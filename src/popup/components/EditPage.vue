<template>
  <div class="flex flex-col">
    <header
      class="w-full p-4 flex justify-between items-center fixed top-0 bg-white border-b border-gray-200"
    >
      <button
        title="delete bookmark"
        :disabled="!bookmarkState"
        class="p-1 text-red-400 hover:text-white bg-white hover:bg-red-400 rounded"
        :class="{ 'opacity-10': !bookmarkState }"
      >
        <svg
          class="w-6 h-6"
          viewBox="0 0 50 50"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M41.5 11H34.0007V9.5C33.9994 8.30694 33.5249 7.16312 32.6813 6.3195C31.8376 5.47588 30.6938 5.00134 29.5007 5H20.5007C19.3077 5.00134 18.1639 5.47588 17.3202 6.3195C16.4766 7.16312 16.0021 8.30694 16.0007 9.5V11H8.5C8.10217 11 7.72064 11.158 7.43934 11.4393C7.15804 11.7206 7 12.1022 7 12.5C7 12.8978 7.15804 13.2794 7.43934 13.5607C7.72064 13.842 8.10217 14 8.5 14H10V41C10.0009 41.7954 10.3173 42.5579 10.8797 43.1203C11.4421 43.6827 12.2046 43.9991 13 44H37C37.7954 43.9991 38.5579 43.6827 39.1203 43.1203C39.6827 42.5579 39.9991 41.7954 40 41V14H41.5C41.8978 14 42.2794 13.842 42.5607 13.5607C42.842 13.2794 43 12.8978 43 12.5C43 12.1022 42.842 11.7206 42.5607 11.4393C42.2794 11.158 41.8978 11 41.5 11ZM19.0007 9.5C19.0012 9.10233 19.1594 8.72109 19.4406 8.43989C19.7218 8.15869 20.1031 8.0005 20.5007 8H29.5007C29.8984 8.0005 30.2797 8.15869 30.5609 8.43989C30.8421 8.72109 31.0003 9.10233 31.0007 9.5V11H19.0007V9.5ZM37 41H13V14H37V41ZM22.0007 21.5V33.5C22.0007 33.8978 21.8427 34.2794 21.5614 34.5607C21.2801 34.842 20.8986 35 20.5007 35C20.1029 35 19.7214 34.842 19.4401 34.5607C19.1588 34.2794 19.0007 33.8978 19.0007 33.5V21.5C19.0007 21.1022 19.1588 20.7206 19.4401 20.4393C19.7214 20.158 20.1029 20 20.5007 20C20.8986 20 21.2801 20.158 21.5614 20.4393C21.8427 20.7206 22.0007 21.1022 22.0007 21.5ZM31.0007 21.5V33.5C31.0007 33.8978 30.8427 34.2794 30.5614 34.5607C30.2801 34.842 29.8986 35 29.5007 35C29.1029 35 28.7214 34.842 28.4401 34.5607C28.1588 34.2794 28.0007 33.8978 28.0007 33.5V21.5C28.0007 21.1022 28.1588 20.7206 28.4401 20.4393C28.7214 20.158 29.1029 20 29.5007 20C29.8986 20 30.2801 20.158 30.5614 20.4393C30.8427 20.7206 31.0007 21.1022 31.0007 21.5Z"
          />
        </svg>
      </button>
      <div class="flex items-center space-x-0.5">
        <div class="p-1">
          <div
            class="bookmark-favicon w-6 h-6 bg-cover bg-center bg-no-repeat rounded"
            :style="{
              backgroundImage:
                'url(' + `https://www.youtube.com/s/desktop/4eebcda0/img/favicon_32x32.png` + ')',
            }"
          />
        </div>
        <h1 class="text-xl font-bold text-gray-800">
          收藏书签
        </h1>
      </div>
      <button
        title="more menu button"
        class="btn"
      >
        <svg
          class="w-6 h-6"
          viewBox="0 0 50 50"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M27.6875 37.3438C27.6875 37.8073 27.55 38.2604 27.2925 38.6459C27.035 39.0313 26.6689 39.3317 26.2407 39.5091C25.8124 39.6865 25.3412 39.7329 24.8865 39.6425C24.4319 39.552 24.0142 39.3288 23.6865 39.001C23.3587 38.6733 23.1355 38.2556 23.045 37.801C22.9546 37.3463 23.001 36.8751 23.1784 36.4468C23.3558 36.0186 23.6562 35.6525 24.0416 35.395C24.4271 35.1375 24.8802 35 25.3438 35C25.9651 35.0007 26.5609 35.2479 27.0002 35.6873C27.4396 36.1266 27.6868 36.7224 27.6875 37.3438ZM25.3438 14.6875C25.8073 14.6875 26.2604 14.55 26.6459 14.2925C27.0313 14.035 27.3317 13.6689 27.5091 13.2407C27.6865 12.8124 27.7329 12.3412 27.6425 11.8865C27.552 11.4319 27.3288 11.0142 27.001 10.6865C26.6733 10.3587 26.2556 10.1355 25.801 10.045C25.3464 9.9546 24.8751 10.001 24.4468 10.1784C24.0186 10.3558 23.6525 10.6562 23.395 11.0416C23.1375 11.4271 23 11.8802 23 12.3438C23.0007 12.9651 23.2479 13.5609 23.6873 14.0002C24.1267 14.4396 24.7224 14.6868 25.3438 14.6875ZM25.3438 22.5C24.8802 22.5 24.4271 22.6375 24.0416 22.895C23.6562 23.1525 23.3558 23.5186 23.1784 23.9468C23.001 24.3751 22.9546 24.8464 23.045 25.301C23.1355 25.7556 23.3587 26.1733 23.6865 26.501C24.0142 26.8288 24.4319 27.052 24.8865 27.1425C25.3412 27.2329 25.8124 27.1865 26.2407 27.0091C26.6689 26.8317 27.035 26.5313 27.2925 26.1459C27.55 25.7604 27.6875 25.3073 27.6875 24.8438C27.6868 24.2224 27.4396 23.6267 27.0002 23.1873C26.5609 22.7479 25.9651 22.5007 25.3438 22.5Z"
          />
        </svg>
      </button>
    </header>

    <div class="flex-grow pt-16 pb-28">
      <EditInfo />
    </div>

    <footer class="w-full fixed bottom-0 bg-white">
      <div class="w-full p-2">
        <button
          title="finish editing bookmark"
          class="w-full py-1 text-sm text-white bg-green-400 rounded"
        >
          完成
        </button>
      </div>
      <div class="w-full px-4 py-2 flex justify-between items-center border-t border-gray-200">
        <button
          title="expand window button"
          class="btn"
        >
          <svg
            class="w-6 h-6"
            viewBox="0 0 50 50"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M42 9.54642V18.8182C42 19.2281 41.8372 19.6212 41.5473 19.911C41.2575 20.2008 40.8644 20.3636 40.4545 20.3636C40.0447 20.3636 39.6516 20.2008 39.3617 19.911C39.0719 19.6212 38.9091 19.2281 38.9091 18.8182V13.2766L30.7292 21.4565C30.5857 21.6 30.4153 21.7138 30.2278 21.7915C30.0403 21.8692 29.8393 21.9091 29.6364 21.9091C29.4334 21.9091 29.2324 21.8692 29.0449 21.7915C28.8574 21.7138 28.687 21.6 28.5435 21.4565C28.4 21.313 28.2862 21.1426 28.2085 20.9551C28.1308 20.7676 28.0909 20.5666 28.0909 20.3636C28.0909 20.1607 28.1308 19.9597 28.2085 19.7722C28.2862 19.5847 28.4 19.4143 28.5435 19.2708L36.7234 11.0909H31.1818C30.7719 11.0909 30.3788 10.9281 30.089 10.6383C29.7992 10.3484 29.6364 9.95533 29.6364 9.54545C29.6364 9.13557 29.7992 8.74248 30.089 8.45265C30.3788 8.16282 30.7719 8 31.1818 8H40.4545C40.4603 8 40.4659 8.00077 40.4715 8.00077C40.5168 8.00135 40.5618 8.00328 40.6066 8.00773C40.6315 8.01005 40.6556 8.01468 40.68 8.01835C40.7055 8.02202 40.731 8.02492 40.7561 8.02994C40.7831 8.03535 40.8096 8.04269 40.8363 8.04926C40.8583 8.05506 40.8807 8.05989 40.9027 8.06665C40.9286 8.07438 40.9537 8.08403 40.979 8.09311C41.0012 8.10123 41.0235 8.10857 41.0457 8.11765C41.0689 8.12731 41.0913 8.1387 41.1141 8.14933C41.1372 8.16034 41.1604 8.17058 41.1828 8.18256C41.2043 8.19415 41.2248 8.20709 41.2456 8.21965C41.268 8.23317 41.2908 8.24573 41.3127 8.26022C41.3353 8.27548 41.3565 8.29228 41.3783 8.30851C41.3969 8.32242 41.4162 8.33556 41.4344 8.35043C41.4703 8.37999 41.5047 8.41128 41.5377 8.44393C41.5408 8.44702 41.5443 8.44973 41.5474 8.45262C41.5512 8.45649 41.5547 8.46093 41.5586 8.46499C41.5901 8.49725 41.6208 8.53067 41.6494 8.56544C41.6654 8.58495 41.6793 8.60543 41.6942 8.62533C41.7095 8.64581 41.7251 8.6659 41.7394 8.68695C41.755 8.71014 41.7686 8.73448 41.7829 8.75843C41.7945 8.77775 41.8064 8.79649 41.8171 8.81639C41.8302 8.84073 41.8412 8.86565 41.8528 8.89057C41.8626 8.91163 41.8733 8.9321 41.8822 8.95355C41.8918 8.97769 41.9001 9.00223 41.9088 9.02657C41.9171 9.04975 41.9262 9.07255 41.9332 9.09611C41.9407 9.12084 41.9463 9.14595 41.9525 9.17107C41.9583 9.19502 41.965 9.21859 41.9699 9.24293C41.9757 9.2721 41.9793 9.30147 41.9834 9.33083C41.9863 9.3515 41.9901 9.37159 41.9923 9.39245C41.9974 9.44371 42 9.49503 42 9.54642ZM19.2708 28.5435L11.0909 36.7234V31.1818C11.0909 30.7719 10.9281 30.3788 10.6383 30.089C10.3484 29.7992 9.95533 29.6364 9.54545 29.6364C9.13557 29.6364 8.74248 29.7992 8.45265 30.089C8.16282 30.3788 8 30.7719 8 31.1818V40.4536C8 40.505 8.00258 40.5563 8.00773 40.6075C8.00966 40.6284 8.01372 40.6485 8.01661 40.6692C8.02067 40.6985 8.02434 40.7279 8.03014 40.7571C8.03497 40.7814 8.04173 40.805 8.04752 40.8289C8.0537 40.854 8.05931 40.8792 8.06684 40.9037C8.07399 40.9275 8.08288 40.9501 8.09118 40.9732C8.09988 40.9978 8.10799 41.0223 8.11784 41.0466C8.12673 41.0679 8.13716 41.0884 8.1472 41.1094C8.1588 41.1343 8.16981 41.1593 8.18294 41.1836C8.19357 41.2035 8.20555 41.2223 8.21714 41.2416C8.23143 41.2655 8.24495 41.2899 8.2606 41.313C8.2747 41.3343 8.29055 41.3542 8.30581 41.3745C8.32068 41.3946 8.33459 41.415 8.35062 41.4344C8.37922 41.4693 8.40993 41.5027 8.44142 41.5348C8.44528 41.5389 8.44857 41.5433 8.45262 41.5474C8.45572 41.5505 8.45919 41.553 8.46228 41.5561C8.49532 41.5887 8.5299 41.62 8.56583 41.6496C8.58399 41.6646 8.60331 41.6776 8.62185 41.6917C8.64349 41.7079 8.66474 41.7245 8.68734 41.7396C8.70936 41.7545 8.73235 41.7674 8.75515 41.7809C8.77582 41.7931 8.79572 41.806 8.81697 41.8174C8.84015 41.8298 8.86391 41.8402 8.88767 41.8514C8.90969 41.8619 8.93133 41.8727 8.95393 41.8824C8.97692 41.8916 9.0003 41.8994 9.02348 41.9077C9.04782 41.9164 9.07177 41.9258 9.09689 41.9333C9.12007 41.9403 9.14344 41.9455 9.16682 41.9513C9.19232 41.9577 9.21743 41.9648 9.24332 41.9701C9.27056 41.9755 9.29818 41.9786 9.32542 41.9826C9.34802 41.9857 9.37005 41.99 9.39303 41.9923C9.44365 41.9973 9.49445 42 9.54545 42H18.8182C19.2281 42 19.6212 41.8372 19.911 41.5473C20.2008 41.2575 20.3636 40.8644 20.3636 40.4545C20.3636 40.0447 20.2008 39.6516 19.911 39.3617C19.6212 39.0719 19.2281 38.9091 18.8182 38.9091H13.2766L21.4565 30.7292C21.6 30.5857 21.7138 30.4153 21.7915 30.2278C21.8692 30.0403 21.9091 29.8393 21.9091 29.6364C21.9091 29.4334 21.8692 29.2324 21.7915 29.0449C21.7138 28.8574 21.6 28.687 21.4565 28.5435C21.313 28.4 21.1426 28.2862 20.9551 28.2085C20.7676 28.1308 20.5666 28.0909 20.3636 28.0909C20.1607 28.0909 19.9597 28.1308 19.7722 28.2085C19.5847 28.2862 19.4143 28.4 19.2708 28.5435Z"
            />
          </svg>
        </button>
        <button
          title="browser all bookmarks"
          class="btn flex flex-col justify-center items-center space-y-0.5"
          @click="changePage('browser')"
        >
          <div class="p-0.5">
            <svg
              class="w-2 h-2"
              viewBox="0 0 50 50"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M43.2272 36C42.9944 36.0003 42.7638 35.9551 42.5486 35.8672C42.3335 35.7792 42.1381 35.6502 41.9737 35.4874L25.5 19.225L9.0263 35.4874C8.69385 35.8156 8.24294 36 7.77277 36C7.3026 36 6.85169 35.8156 6.51923 35.4874C6.18677 35.1592 6 34.7141 6 34.25C6 33.7858 6.18677 33.3407 6.51923 33.0125L24.2465 15.5126C24.4111 15.3501 24.6065 15.2212 24.8216 15.1332C25.0367 15.0453 25.2672 15 25.5 15C25.7328 15 25.9633 15.0453 26.1784 15.1332C26.3935 15.2212 26.5889 15.3501 26.7535 15.5126L44.4807 33.0125C44.7287 33.2572 44.8975 33.5691 44.9659 33.9085C45.0343 34.248 44.9992 34.5999 44.8651 34.9197C44.7309 35.2394 44.5037 35.5128 44.2121 35.7051C43.9206 35.8973 43.5778 36 43.2272 36Z"
              />
            </svg>
          </div>
          <span class="text-xs">浏览书签</span>
        </button>
        <button
          title="archive tabs button"
          class="btn"
        >
          <svg
            class="w-6 h-6"
            viewBox="0 0 50 50"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M42.1429 10H7.85714C7.09964 10.0009 6.37341 10.3067 5.83778 10.8503C5.30214 11.394 5.00085 12.1311 5 12.9V17.25C5.00085 18.0189 5.30214 18.756 5.83778 19.2997C6.37341 19.8433 7.09964 20.1491 7.85714 20.15V36.1C7.85799 36.8689 8.15929 37.606 8.69492 38.1497C9.23055 38.6933 9.95679 38.9991 10.7143 39H39.2857C40.0432 38.9991 40.7694 38.6933 41.3051 38.1497C41.8407 37.606 42.142 36.8689 42.1429 36.1V20.15C42.9004 20.1491 43.6266 19.8433 44.1622 19.2997C44.6979 18.756 44.9991 18.0189 45 17.25V12.9C44.9991 12.1311 44.6979 11.394 44.1622 10.8503C43.6266 10.3067 42.9004 10.0009 42.1429 10ZM39.2857 36.1H10.7143V20.15H39.2857V36.1ZM42.1429 17.25H7.85714V12.9H42.1429L42.1446 17.25H42.1429ZM19.2857 25.95C19.2857 25.5654 19.4362 25.1966 19.7041 24.9247C19.972 24.6528 20.3354 24.5 20.7143 24.5H29.2857C29.6646 24.5 30.028 24.6528 30.2959 24.9247C30.5638 25.1966 30.7143 25.5654 30.7143 25.95C30.7143 26.3346 30.5638 26.7034 30.2959 26.9753C30.028 27.2472 29.6646 27.4 29.2857 27.4H20.7143C20.3354 27.4 19.972 27.2472 19.7041 26.9753C19.4362 26.7034 19.2857 26.3346 19.2857 25.95Z"
            />
          </svg>
        </button>
      </div>
    </footer>
  </div>
</template>
<script>
import { ref, inject } from 'vue';
import EditInfo from './Edit/EditInfo.vue';

export default {
  components: {
    EditInfo,
  },
  setup() {
    // bookmark tag state
    const bookmarkState = ref(true);
    function deleteBookmarkHandler() {
      bookmarkState.value = false;
    }

    const changePage = inject('changePage');

    return {
      bookmarkState,
      deleteBookmarkHandler,
      changePage,
    };
  },
};
</script>

<style lang="scss">
.h-center {
  @apply flex justify-center items-center;
}

.btn {
  @apply p-1 text-gray-400 hover:bg-gray-200 hover:text-gray-800 rounded;
}
</style>
